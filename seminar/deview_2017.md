# Deview 2017

## Keynote 

송창현 네이버 CTO, 네이버 랩스 CBO

키워드

- excellence, sharing growth

deview의 역사와 함께 키노트 시작

- 소통과 기술 교류, 기술 트랜드, 미래 준비에 대한 이야기
- 이슈가 되었던 키워드와 거기에 엮인 네이버 기술들을 보여줌 

네이버 데뷰의 성과에 대해 먼저 공유했음

- 몇번의 세션, 몇명의 연사
- 몇초만에 매진 등등(1분 이내 매진)
- 참석자 규모(2700)
- 참여 회사(20여개), 삼성전자도 있더군요
- 네이버가 지원하는 다양한 개발자 생태계 수가 거의 500여개
- 학회도 지원(NIPS도 있네요)
- 네이버가 오픈한 오픈소스(올해 8개 공개했음)
- 오픈소스하는 방법들을 담아 가이드도 제공함
- 스타트업에 대한 지원(16개 기업, 9개 협업, 1개 MnA)
- 네이버랩스 유럽 오픈
- 다양한 대학의 전문가 영입

다양한 device를 통해 생활 깊숙히 기술이 들어오고 있다.

이제는 기술이 사람과 생활환경을 이해해야 한다.
기술의 진정한 가치는 생활에 들어왔을때 이루어짐

**그래서 Ambient intelligence(생활 지능)**

> 설명은 사진으로 대신해도 될듯

검색으로 따지자면, 단순히 포함된 문서가 아니라 사용자가 의도한 질문의 답을 찾아줌

- 예로는 지구에서 달까지의 거리가 포함된 문서를 줌

더 나아가서는 추천까지 해준다.

AiRS(추천), AITerms

이제 저번의 아미카(뭐였더라)가 Clova가 되었다.

- Clova Interface Connection을 제공
- Clova Extensions Kit를 통해 확장 서비스도 제공
- 클로바 기술은 웨이브에 사용되었다.

Papago 이야기도 나옴

- 10개 언어 지원
- N2MT, 글자 수 추가됨
- 사전 추가, 앱 없이도 가능
- 웹 버전 출시
- Wave에 적용
- 누적 다운로드 800만

웨일 브라우저

- 100만 다운로드
- 영어 지원
- whale 연구소라는 포럼 운용(연구원 10000명, 의견 20000명)
- 정식 버전 출시
- 옴니테스킹, 사용성, 성능, 보안 등등
- 보안에 신경을 많이 썻다고 함
- 웨일 모바일 12월 출시
- 스크랩(밸리) 기능에 신경을 많이 쓴듯

여기까지 네이버의 기술/서비스


## 이제 네이버 랩스 기술

자율 주행차 허가받고 서울 모터쇼에서 시연(맵 그리는거)

Mobility/Location Intelligence 2개로 나누어서 중점을 두고 있음

### 1. Location intelligence

- Mapping
- Localication
- Environment/context intelligence

아이의 위치는 매우 중요하다 그래서 18년 1월에 출시될 제품이 AKI

- 위치 파악과 패턴 분석
- 위치 개인화

## 2. Mobility Intelligence

AWAY 라는 제품 출시

- 그린카를 통해 홍보를 한듯하네요
- 네이게이션 + 뮤직 + 뉴스 등등 네이버 제품이 더해진듯
- Extension을 제공해서 서드파티 참여자도 받는 듯해요
- 2017년 말 애프터마켓 제품 춠 예쩡

## 3. Autonomous Driving

자율주행차

### HD Mapping Automation

도심 지역의 도로와 표지판 정보를 자동으로 뽑아내기 위해 노력

### Perception

차량과 보행자 인식

### Localization

도심 내 GPS 음영지역 고려하여 차선 기반 자기위치 인식 부분 강화

## Planning & Control

강화학습 도입

> 자율 주행 실제 영상 시연

## Personal last-mile mobility project

4륜 구동 스케이트 보드(세계 최초)

시속 40km

> 시연 영상

로봇에 있어서는 우리와 가장 가까운 곳에서 노동의 어려움을 덜어 줬으면 좋겠다.

## Physical Human Robot Interface(Air Cart)

인간의 가장 가까운 곳에서 노동의 어려움을 줄여준다.

- yes 24 오프라인 서점에서 실제로 사용됨


## 해외 대학 협업

- MIT Cheetah 4
  - 무거운 짐 들기
- UIUC Jumping Robot
  - 높이 뛰기 멀리 뚜기

## M1

자동 매핑 로봇

- 실내 자율 주행 로봇은 제작 비용이 비싸다.(도전 요소)
- 그래서 mapping 기능만 로봇에 담고 나머지는 클라우드로 옮기
- 그래서 나온게 AROUND

## 마지막으로 하나

하... 

## 마무리

Ambience Intelligence로 더 중요한 일에 인간이 신경쓸수 있도록하겠다

# Open, Share, Enjoy, Naver의 오픈소스 활동(박은정)

## 연사는 오픈소스 매니저

- 네이버가 오픈소스 소프트웨어를 바르게 사용하는지
- 오픈소스 생태계에 기여할 수 있도록 도와주는 역할

즉 검수를 진행하고 정책과 문화를 만드는 역할

## Overview

- 오픈소스 활동
- 왜 하는지
- 배운 것들

프로젝트 특성에 상관 없이 이야기할 예정

## 네이버의 오픈소스 활동

포스트잇 스티커 나눠줌

- 아무리 생각해도 홍보는 정말 중요하다.

연사는 오픈소스를 사용했기 때문에 지켜야 하는 라이센스를 준수하기 위한 검수를 담당했음

그리고 이후에는 오픈소스를 공개했었음

- 그러고 보니, 이슈도 많고 반영도 되도록 노력해야 하는 일이 생김
- 외부 개발자와 교류를 해야 하는 업무가 추가됨
- 이런 경험들이 쌓임

개발과 관련된 컨텐츠/문화도 공유

- 최근에는 eslint 규칙 공유 

문화라고 했는데 이걸 시킬수는 없다. 결국 만들어야 한다고 판단하고 나아가는 중.

- 내부의 오픈소스 활동 개발자끼리의 모임도 있음
- 외부로도 많은 교류중
- 대학생들을 위한 오픈소스 가이드 배포
- 새미나 활동도 많이 함

http://naver.github.io

1년간 많은 발전이 있었음(2016.10과 비교해)

1. repo 68 -> 104
2. forks 1514 -> 2714
3. starts 4823 -> 10218

## 왜 오픈소스 활동을 하는가

> 네이버에 어떤걸 기대하냐고 오픈소스 개발자들에게 물어보자, 역으로 네이버는 오픈소스 활동을 왜하죠? 라는 질문이 들어왔다고 함

### 왜 오픈소스 컨트리뷰션을 하는가

1. 유지보수를 더 편하게 하기 위해
2. 삽질을 줄이기 위해(같은 문제로 고생하는 일이 중복되는 것을 막을 수 있음)

### 언제 OSS 컨트리뷰션을 하는가

1. 우리가 해결한 문제가 외부에서도 발생할 수 있는 경우
2. 추가한 기능이 다른 개발자들에게도 도움이 되는 경우

**네이버에서는 걍 기회가 보이면 무조건 하라고 하고 있습니다**

> 네이버에서는 기여하는 사람들에게 소소한 reward를 제공하고 있다

21개 프로젝트에 컨트리뷰션을 진행하고 있다.

- 대부분 실제로 네이버 서비스에서 사용하고 있는 opensource
- 업무상 진행하게된 경우

### 어떤 소프트웨어를 OSS로 공개하는가

1. 네이버가 잘 사용하고 있는
  - 사내에서도 패치를 내야 하는 상황이면 릴리즈하지 않는다.
2. 외부 개발자들에게 필요한
3. 공개하면 더욱 발전할 수 있는

### 오픈소스 프로젝트 공개 프로세스

우선 개발팀에서 오픈을 원할 경우(유지보수나 follow-up 뭐 이런 것도 해야되니까요)

1. Refactoring
  - 안쓰는 코드를 삭제하고
  - 사내 정보 제거
  - 주석 보강
  - 공개할 범위와 공개하지 않을 범위 확정
2. 배포 라이선스 결정
  - 충돌이 나지 않는 라이센스 선택
  - 경쟁 제품과 비슷하게 라이센스 결정
3. Documentation
4. Etc
  - 동영상 데모나 사이트 같은 느낌?
  - 샘플 코드 
  - 오픈 소스로써 사용자에게 흥미를 끌만한 것들을 만드는 작업 ㅋㅋ

### 왜 오픈소스 프로젝트로 공개하는가

1. 오픈소스 생태계의 발전을 위해
  - 도움에 보답합니다
  - 선순환 구조를 만들기 위해서
2. 더 좋은 소프트웨어로 발전하기 위해
  - 네이버를 벗어난 다양한 환경과 요구사항에 대응하면서
  - 공개 전보다 더 견고한 소프트웨어로 성장할 수 있다.
  - robust 소프트웨어

## 우리가 배운 것들

회사에서 업무로 개발한 소프트웨어를 공개할 때 무슨일이 벌어지는지, 어떤 어려움이 있는지 공유한다.

### 프롤로그, 코드 공개, 엔딩인줄 알았지?

코드만 공개하면 기사도 나오고 기업에서도 써주고 컨퍼런스 초청도 되고 할 줄 알았다

### Stage 1, 운영 지옥에 빠지겠다는 각오

사실 운영 지옥에 빠진다는 것은 좋은 경우임

- 없는 것보다야 뭐..

그래도 준비하면 좋을 것

1. 프로젝트의 목표를 정하자
  - 왜 오픈소스로 공개하는가
    - 회사 업무와 오픈소스 활동을 병행하는 고난의 길이 열릴 수 있다.
    - 그래서 목표를 설정해야 한다.
    - 그래야 요구사항을 정리하고 받아들일 수 있다.
  - 다양한 사용자 요구사항을 받아들이는 기준점
    - 이게 없으면 논의 시간이 넘나 김
  - 일화로 슬랙은 markdown 지원 안하는게 목표라고 했다고 함 ㅋㅋ
    - 그러니까 안해도 욕을 안먹음 ㅋ_ㅋ;;
2. 누가 운영할 것인가
  - Maintainer 역할에 대한 정의 필요
    - 코드 저장소 운영, 이슈 대응, commit merge
    - Release - versioning, change log
  - 프로젝트 운영에 대한 최종 결정권
    - 빠르게 의사를 결정하는데 도움이 됨
3. 어디까지 공개할 것인가

### Stage 2, 명확하게 더 쉽게

1. 그런 README로 괜찮은가
  - 프로젝트가 지향하는 방향을 명시
    - 처음 방문한 사용자가 프로젝트를 이해하는데 도움이 됩니다.
    - 뛰어난 품질의 코드를 개발하더라도 README가 명확하지 않으면
    - 사용자들의 관심을 끌기 어려울 수 있습니다.
    - 너무 어렵거나 함축적이면 사람들이 싫어함
  - README 작성에 online 가이드를 배포하니까 참고하시죵
2. 그런 Licence로 괜찮은가
  - 프로젝트의 사용 조건을 명시
    - 공개된 프로젝트를 어떤 조건에서 사용할 수 있을지 명시
  - 내부에 사용된 오픈소스 라이센스의 라이센스 고려

### Stage 3, 문서, 다다익선

1. 때로는 코드보다 문서가 중요
2. 데모사이트 영상으로 보완

### Bonus, 글로벌, 영어

1. 세계 정복을 원하십니까?
  - 글로벌 오픈소스로 진화하기 위한 시작점
  - 이슈도 영어로 작성하겠다는 굳은 의지가 필요
  - 번역 작업을 이슈로 만들어서 컨트리뷰션을 유도하는 방법도 있습니다.

## 마성의 프로젝트로 키워봅시다(못나가게)

### 1. 프로젝트를 알려봅시다.

1. 국내 기술 블로그, SNS
2. 온라인 - 해외(Hacker News, Reddir)
3. 온라인 - Targeted(오픈소스 커뮤니티, 기술 뉴스레터)
4. 오프라인 - 컨퍼런스 발표, 밋업 참가

### 2. 사용자 커뮤니티를 만들어 봅시다.

1. 사용자들도 서로 교류할 수 있도록
  - 메일링 리스트
  - 온라인 커뮤니티 - google/facebook group
2. 셀프 검색의 생활화
  - 프로젝트 초기에는 숨겨진 사용자들의 후기 발굴
  - 문서 컨트리뷰션으로 이어갈 수 있음

### 3. 사용자를 컨트리뷰터로

1. 적절한 밀당 스킬

## 엔딩

deprecated되거나 창업하거나 잘되거나 하는 결론이 났네용

1% finished 입니당

- 배운 조금의 것을 공유하고 이야기를 들어서 성장하고 싶네요 낄껄

[https://naver.github.io/OpenSourceGuide/book/](https://naver.github.io/OpenSourceGuide/book/)

# Clova Platform 정민영

## 1. Clova Platform

### Overview

세 개의 레이어로 구성됨

1. App device
2. Clova
3. Contents/Service

Clova Interface Connect(App/Device과 Clova를 이어줌)

Clova Extensions Kit(Clova와 Content를 이어줌)

### Clova Interface Connect

1. 하드웨어 개발자가 제품에 Clova Interface 연결 가능
2. Public API 및 ASK 제공
3. 음성, Vision을 단일 인터페이스로 제공
4. 저전력, IoT환경에서도 사용 가능

### Clova Extension Kit

1. Service 및 Content를 Clova에 손쉽게 연결
2. 간단한 설정과 REST API 연동으로 자연어 기반 서비스 개발
3. Public API / SDK 
4. 단계별 Builder 및 온라인 테스트 환경 제공

### Open Platform

1. 네이버, 라인이 사용하는 Platform 그대로 공개
2. Extension marketplace 운용 예정
3. 최고 수준의 SDK / API 문서 지원
  - 엄청 디테일하게 작성중이다
4. 인식, 합성, Vision 개발 API 제공

## 2. Architecture & Teck Stack

### Challenge

1. 요청 받아 분석 전까지는 무슨 내용인지 알 수 없는 API가 있음
2. Latency에 매우 민감
  - 말을 하면 빨리 대답이 오길 사용자는 기대함
3. 하나의 요청을 처리하기 위해 무수히 많은 서비스와 연결된다.
  - 네이버의 다양한 서비스들을 사용할 수 있다는 장점이 있고 그것이 도전이기도 하다.
4. 요청을 받는 와중에서라도 서버가 Interrupt하거나 응답을 주어야 한다.

### Protocol

1. 연결 신뢰성이 있어야 함
2. Latency
3. 민감 정보(음성/사진)를 다루기 때문에 보안성 중요
4. Open Platform을 지향하므로 Client 구현이 쉬워야 함
5. Protocol을 선택해야 했음

### HTTP/2

1. 최적의 프로토콜
2. 헤더 압축, Multiplexing 등을 통한 Latency rkath
3. Binary Frame based Protocol
4. Single TCP Connection & Ping-Ping mechanism
5. TLS Based Security

> HTTP/2도 공부해봐야겠구만

### Golang

1. 여러 조사를 한 이후에 Golang 선택
2. C/C++ 기반의 자산을 활용하기 쉽고
3. 검토 당시 가장 성숙한 HTTP/2 서버 구현 보유
4. Platform 특성상 대부분의 Workload는 I/O에서 발생

이래서 선택

Cgo는 무척 편리한 도구이고 강력하지만

- C 언어로 구현된 코드를 go에서 사용하기 위한 라이브러리
- 생각보다 cost가 높고, 환경 구축, 빌드, 배포 등에 지연 요소로 동작함
- 기존 자산을 활용해 시간을 벌고, 단계적으로 Native go 구현으로 이전중

### Monitoring

1. 복잡하게 연관된 시스템에 대한 모니터링
2. 특정 API에 대한 성공/실패에 대한 점검 만으로는 의미가 없거나 부족함
3. 알수 없는 blackbox 테스트를 위해서도 필요했음

END TO END BLOCKBOX Testing을 진행함

- **자연어 입력** 과 **기대 결과** 를 검사
- 자연어 입력으 텍스트 혹은 음성
- 오늘날씨 어때? 나 지금 몇시야? 데 애한 기대 결과는?
  - 네이버에서는 검색 결과...라서
  - 실패를 검출하기 어려움

결국 테스트 목적의 CIC 클라이언트 개발

- Input에 대해서 Client의 작동을 모사
- 테스트 정의는 파이선으로 함
- 왜냐면 문자열 조작이 고보다 쉬우고, DSL을 만들기 쉬웠음
- Python-Hyper
- 24/365 끝없는 Regression Test, Alerting

## Clova Interface Connect

### Interface Connect

새로운 Human Interface에 대한 표준 API 제공

- 음성, Vision(예정)
- Downstream Channel과 Event Request로 구성
- 요청(Event)를 보내서 명령(Directive)를 수신

### Interface Connect - Auth

한국, 일본간 인증 기반과 체계가 다름(Naver, Line)

- 기술 체계도 미묘하게 다르고 법률 문제가 있다.
- 그래서 oAuth 2.0으로 추상화 중이다.

### Interface Connect - Downstream Channel

모든 CIC Client는 반드시 1개의 Downstream Channel을 유지

### Event

Clova Client에서 올려보내는 모든 요청

- 요청의 내용이 아닌 요청의 종류에 대응
- 음성 인식 요청, 영상 인식 요청, 재생 상태 보고, 버튼 눌림 보고 ..
- 요청 ID
- Wake-Up Word 같은 각종 Interruption 요소

### Directive

Clilent의 eEvent에 대응하여 Platform이 제공하는 명령

- Directive의 표준화에 신경을 많이 썻다고 함
- 특정 표현이 아닌 의미를 규정
- 서로 다른 SW/HW 환경을 가진 클라이언트에도 동일한 동작을 하도록..

### Context & Event Driven

- Ambiguity 문제가 있다.(멈춰줘 - 뭘 멈추지?)

Client가 Directive를 수행하리란 보장이 없거나, 언제 할지도 모름

따라서 지시 -> Callback의 구조를 가져감

### Intent

자연어, 행동 등을 {Namespace}.{Name}의 형태로 표현

- 표현이 다르지만 같은 의미는 같은 Intent로 표현
- Intent마다 개별 Parameter를 가질 수 있음

### Intent Routing

1. Platform은 Intent를 기준으로 실제 요청을 처리할 서비스를 선택
2. Intent에 대한 입력과 출력 포맷을 표준화

> 여기가 플랫폼 확장에 중요하게 생각하는 포인트라고 함

### Backward Compatibility

1. Embedded 환경에 많이 배포되는 특성상 하위 호환성이 무척 중요
2. Text 기반의 Protocol, Semantic Versioning을 통한 Version 협상
3. Field는 항상 추가만 수행, 적정 시점에서 Interface 분리
4. Clilent는 모르는 요청 무시

## Clova Extension Kit

### Itneraction Model

자연어를 어떻게 이해하고 분석할지를 작성하는 부분

- 슬롯도 정의할 수 있음(가령 ~~로 가라해의 ~~)
- 위의 경우엔 가라가 Intent

1. 통계 기반으로 언어를 분석하고, 
  -  작성하지 않아도 적용될 수 있도록
2. 기본적인 표현은 추가되어 있다.(슬롯까지 포함되서)


### Request Model

1. 모든 요청은 JSON
2. HTTPS Required 예정
3. 사용자, 기기에 대한 정보 제공
4. 세션 제공

### Request Model - Context

사용자 기기의 정보, 식별자, 지원 기능, 상태 등등 제공

### Request Model - Lifecycle

Extension은 실행되어 요청을 받고 종료되는 생명 주기를 가진다.

- 한 생명 주기 내에서 정보를 저장할 수 있는 Session 제공

### Request Model - Event Request

1. 사용자의 명시적인 실행이 있는 경우에만 호출됨
2. 음악 재생이나 정지같은 경우에는 암시적으로 실행되기도 함

### Response Model

1. TTS, Template
  - 답변 문구 제공
  - 음성 안내는 간단한 상태, 자세한 상태 두가지로 제공 가능
  - 음성외 10여종의 템플릿 제공
  - 템플릿은 표현형태가 아닌 데이터를 기술
2. Directive Model
  - 요청한 CIC Device의 작동을 제어
  - 모든 Device가 지정한 Directive 수행을 보장하지는 않음
  - Extension은 Device에 해당 작동을 요청하고 Device는 수행 여부를 응답
3. Multi Turn
  - Extension이 추가적인 입력을 원할 경우(컨텍스트가 필요)
    - 내일 몇시에 알려드릴가요?
  - Extension이 종료를 희망하지 않을 경우 CIC는 무조건 추가 입력을 시도
  - CEK Session을 통해서 대화 상태 관리
4. Builder
  - 웹 기반의 Extension관리 및 개발/테스트 도구
  - 빌트인 기능들을 사용하기 쉽도록 제공
  
## Dash robot extension 데모

# 웨일 브라우저의 보안

## push notification

push notification은 O2O 서비스에서 핵심적인 요소 중 하나. 기존 O2O 서비스들 대부분 App push를 이용

- Permission을 어덩야 함
- 근데 한번 거절 당하면 다시 허용시킬 방법이 없음 ㅠ_ㅠ
- push 서비스 제공 업체에게는 별로인 방식임(allow, block을 하면서)
  - 왜냐면 거의 5%만 동의를 하기 때문에
- 프롬프트 창에는 제공하고자 하는 서비스의 내용이 없기 때문이 강한 이유
- 잘 안보이기도 함
- 무의식적으로 블락하기 좋은 위치이기도 함
- 사용자는 특정 사이트를 블록했는지도 사실 잘 모름

그래서 permission ui를 최대한 늦게 보여주어야 한다는 결론을 내리게됨

- 중간 단계 UX로 권한이 필요하다는 것을 모두 알게 된 이후에 Block 여부를 확인하도록 함
- 그 결과 사람들이 많이 누르게됨 5% -> 50%

다양한 기능을 payload에 실어 보낼 수 있음

- 아이콘, 문자
- 심지어 yes no 여부까지

그러나 잘 안되는 경우도 있음.. 

- 브라우저 호환성을 위해, 데이터를 직접 뷰잉하지 않고
- service worker에서 처리(통신은 간단한 코드 형태로 하고)

## Payment

인스턴스한 1회성 주문 시나리오에서의 결제는?

- 추가적인 앱 설치가 업성야 함
- Merchant 가 사용사가 원하는 지불수단을 제공해야 함

갑자기 web payment에 대한 설명이 등장했다.

## 미래



